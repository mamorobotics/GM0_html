<!doctype html>
<html class="no-js">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

<meta property="og:title" content="Mecanum TeleOp" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="docs/software/tutorials/mecanum-drive.html" />
  
<meta property="og:site_name" content="Game Manual 0" />
  
<meta property="og:description" content="Mecanum Physics: Mecanum drive is a very popular drivetrain type in FTC. Mecanum drivetrains enables holonomic movement. This means that the drivetrain is able to move in any direction while rotati..." />
  
<meta property="og:image" content="https://raw.githubusercontent.com/gamemanual0/gm0/main/source/_static/assets/gm0-logo.png" />
  
<meta property="og:image:alt" content="Game Manual 0" />
  
<meta property="og:ignore_canonical" content="true" />
<meta name="theme-color" content="#F47F27" /><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" /><link rel="next" title="Gamepad Usage" href="gamepad.html" /><link rel="prev" title="Tutorials" href="index.html" />

    <link rel="shortcut icon" href="../../../_static/gm0-logo.ico"/><meta name="generator" content="sphinx-4.5.0, furo 2022.04.07"/>
        <title>Mecanum TeleOp - Game Manual 0</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?digest=68f4518137b9aefe99b631505a2064c3c42c9852" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../../../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --font-stack: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;
  --admonition-font-size: 1rem;
  --admonition-title-font-size: 1rem;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-background-primary: #1f2022;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-background-primary: #1f2022;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">Game Manual 0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../../../_static/assets/gm0-logo.png" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../../../_static/assets/gm0-logo_white.png" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Game Manual 0 Table of Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../mission-statement.html">Mission Statement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../start-here.html">Start Here</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../know-your-lingo.html">Know Your Lingo</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../being-a-team/index.html">Being a Team</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../being-a-team/starting-a-team.html">Starting a Team</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../being-a-team/team-organization.html">Team Organization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../being-a-team/collaboration-and-efficiency.html">Collaboration and Efficiency</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../being-a-team/outreach-basics.html">Outreach Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../being-a-team/pitching-your-team.html">Pitching Your Team</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../design-skills/index.html">Design Skills</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../design-skills/engineering-design-process.html">Engineering Design Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-skills/design-strategy.html">Design Strategy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-skills/cad.html">Computer-aided design (CAD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-skills/cad-tutorials.html">CAD Tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../design-skills/design-glossary.html">Design Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../hardware-components/index.html">Hardware Components</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/index.html">Kit and Hardware Guide</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/gobilda.html">goBILDA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/rev-robotics.html">REV Robotics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/tetrix.html">TETRIX</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/actobotics.html">Actobotics (Discontinued)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/custom.html">Custom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hardware-components/kit-and-hardware-guide/kit-glossary.html">Kit Glossary</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware-components/tools-list.html">Tools List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../hardware-components/tips-and-tricks.html">Tips and Tricks</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../custom-manufacturing/index.html">Custom Manufacturing</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../custom-manufacturing/materials-guide.html">Materials Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../custom-manufacturing/3d-printing.html">3D Printing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../custom-manufacturing/machining.html">Machining</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../custom-manufacturing/laser-cutting.html">Laser Cutting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../custom-manufacturing/manufacturing-glossary.html">Manufacturing Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../common-mechanisms/index.html">Common Mechanisms</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../common-mechanisms/design-tradeoffs.html">Design Tradeoffs</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/drivetrains/index.html">Drivetrains</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/drivetrains/tank.html">Tank (Skid-Steer) Drivetrains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/drivetrains/holonomic.html">Holonomic Drivetrains</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/drivetrains/drivetrain-gallery.html">Sample Drivetrains</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/power-transmission/index.html">Power Transmission</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/motion-mounting.html">Motion Mounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/direct-drive.html">Direct Drive</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/gears.html">Gears</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/chain.html">Roller Chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/belt.html">Timing Belt</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/power-transmission/power-transmission-glossary.html">Power Transmission Glossary</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/index.html">Linear Motion Guide</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/drawer-slides.html">Drawer Slides</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/extrusion-slides.html">Extrusion Slides</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/linear-bearing-slides.html">Linear Bearing Slides</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/custom.html">Custom Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/lead-screws.html">Lead Screws</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/rack-and-pinion.html">Rack and Pinion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/linear-motion-guide/rigging.html">Rigging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../common-mechanisms/arms.html">Arms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../common-mechanisms/linkages.html">Linkages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../common-mechanisms/passive-intake-claw.html">Passive Intake/Claw</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/active-intake/index.html">Active Intake</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/active-intake/principles-of-an-intake.html">Principles of an Intake</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/active-intake/types-of-intakes.html">Types of Intake</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/transfers/index.html">Transfers</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/transfers/transfer-design.html">Transfer Design Fundamentals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/transfers/transfer-types.html">Types of Transfers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../common-mechanisms/dead-wheels.html">Dead Wheels</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../common-mechanisms/turrets/index.html">Turrets</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" role="switch" type="checkbox"/><label for="toctree-checkbox-12"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/turrets/full-turret.html">Full Turrets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../common-mechanisms/turrets/mini-turret.html">Mini Turrets</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../power-and-electronics/index.html">Electronics and Motion Components</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" role="switch" type="checkbox"/><label for="toctree-checkbox-13"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/wiring.html">Wiring Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/connectors-and-wires.html">Connectors and Wires</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/control-system.html">Control Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/driver-station-guide.html">Driver Station Guide</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../power-and-electronics/motor-guide/index.html">Motor Guide</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" role="switch" type="checkbox"/><label for="toctree-checkbox-14"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/motor-guide/choosing-motor.html">Choosing a Motor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/motor-guide/gearbox-anatomy.html">Gearbox Internals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/motor-guide/wiring-mounting-motors.html">Motor Wiring And Mounting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/motor-guide/motor-power.html">Motor Power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/motor-guide/motor-glossary.html">Motor Glossary</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../power-and-electronics/servo-guide/index.html">Servo Guide</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" role="switch" type="checkbox"/><label for="toctree-checkbox-15"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/servo-guide/choosing-servo.html">Choosing a Servo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power-and-electronics/servo-guide/usage-tips.html">Servo Usage Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/sensor-glossary.html">Sensor Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../power-and-electronics/tips-and-tricks.html">Tips and Tricks</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../index.html">Software</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" role="switch" type="checkbox"/><label for="toctree-checkbox-16"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../getting-started/index.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" role="switch" type="checkbox"/><label for="toctree-checkbox-17"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/fundamental-concepts.html">Fundamental Concepts of Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/options-for-programming.html">Options for Programming</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/linear-opmode-vs-opmode.html">LinearOpMode vs OpMode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/common-hardware-components.html">Reading and Writing to Hardware</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/using-android-studio.html">Using Android Studio</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting-started/common-issues.html">Common Issues</a></li>
</ul>
</li>
<li class="toctree-l2 current has-children"><a class="reference internal" href="index.html">Tutorials</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" role="switch" type="checkbox"/><label for="toctree-checkbox-18"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l3 current current-page"><a class="current reference internal" href="#">Mecanum TeleOp</a></li>
<li class="toctree-l3"><a class="reference internal" href="gamepad.html">Gamepad Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="using-telemetry.html">Using Telemetry</a></li>
<li class="toctree-l3"><a class="reference internal" href="encoders.html">Encoders</a></li>
<li class="toctree-l3"><a class="reference internal" href="bulk-reads.html">Bulk Reads</a></li>
<li class="toctree-l3"><a class="reference internal" href="vision.html">Computer Vision</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../concepts/index.html">Programming Concepts</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" role="switch" type="checkbox"/><label for="toctree-checkbox-19"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../concepts/control-loops.html">Control Loops</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/finite-state-machines.html">Finite State Machines</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/kinematics.html">Kinematics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../concepts/odometry.html">Odometry</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../adv-control-system/index.html">Advanced Control System</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" role="switch" type="checkbox"/><label for="toctree-checkbox-20"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/control-system-internals.html">Control System Electronics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/sdk-communication.html">SDK Communication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/sdk-motors.html">SDK Motors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/sdk-servos.html">SDK Servos</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/sdk-sensors.html">SDK Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../adv-control-system/lynx-module.html">Lynx Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../software-glossary.html">Software Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../awards/index.html">Awards</a><input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" role="switch" type="checkbox"/><label for="toctree-checkbox-21"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../awards/award-types.html">Award Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awards/portfolio.html">Engineering Portfolio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awards/judging-presentation.html">The Judging Process and Presentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../awards/notebook.html">Notebook Designs and Decisions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../useful-resources.html">Useful Resources</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../appendix/index.html">Appendix</a><input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" role="switch" type="checkbox"/><label for="toctree-checkbox-22"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/gallery.html">Gallery Of Robot Designs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/vendor-list.html">Vendor List</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/vendor-guide.html">Vendor Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../appendix/license.html">License</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../contributing/index.html">Contributor’s Guide</a><input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" role="switch" type="checkbox"/><label for="toctree-checkbox-23"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/style-guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/methods-of-contributing.html">Methods of Contributing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/contributors.html">Contributors</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container"><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="mecanum-teleop">
<h1>Mecanum TeleOp<a class="headerlink" href="#mecanum-teleop" title="Permalink to this headline">#</a></h1>
<section id="mecanum-physics">
<h2>Mecanum Physics<a class="headerlink" href="#mecanum-physics" title="Permalink to this headline">#</a></h2>
<p><a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/holonomic.html#term-Mecanum-Wheel"><span class="xref std std-term">Mecanum drive</span></a> is a very popular drivetrain type in FTC. Mecanum drivetrains enables holonomic movement. This means that the drivetrain is able to move in any direction while rotating: forwards, backwards, side to side, translating while rotating, etc. <a class="reference external" href="https://www.youtube.com/watch?v=pP8ajNMx84k">Here is a neat video</a> demonstrating such movement.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some common COTS mecanum drivetrain kits are the <a class="reference external" href="https://www.gobilda.com/strafer-chassis-kit-v5/">goBILDA Strafer Chassis Kit</a> and the <a class="reference external" href="https://www.revrobotics.com/rev-45-2470/">REV Mecanum Drivetrain Kit</a>.</p>
</div>
<p><a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/holonomic.html#term-Mecanum-Wheel"><span class="xref std std-term">Mecanum wheels</span></a> have rollers at a 45° angle to the rest of the wheel. Since these are in contact with the ground instead of something solid like in a <a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/index.html#term-Traction-wheel"><span class="xref std std-term">traction wheel</span></a>, instead of the wheel creating a force parallel to the orientation of the wheel, it creates one 45° from parallel. Depending on how the wheels are driven, X or Y components of the force vectors can cancel which allows movement in any direction.</p>
<a class="reference internal image-reference" href="../../../_images/mecanum-worms-eye-view.png"><img alt="Force diagram of a single mecanum wheel" class="align-center" src="../../../_images/mecanum-worms-eye-view.png" style="width: 25em;"/></a>
</section>
<section id="using-vectoring-to-create-omnidirectional-movement">
<h2>Using Vectoring to Create Omnidirectional Movement<a class="headerlink" href="#using-vectoring-to-create-omnidirectional-movement" title="Permalink to this headline">#</a></h2>
<p>A standard mecanum drive configuration possesses 4 mecanum wheels oriented in an “X” shape. This means that the rollers are angled towards the center when looking at it from above. This configuration allows one to add up the force vectors generated by the offset rollers and derive movement in any direction. It is important to note that because of friction, perfect movement isn’t possible in every direction, so a <a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/holonomic.html#term-Mecanum-Wheel"><span class="xref std std-term">mecanum drivetrain</span></a> will be able to drive slightly faster forwards/backwards than any other directions. Combining translation and rotation will also result in slower movement.</p>
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-force-diagram.png"><img alt="Force diagram of a complete mecanum drive" class="align-center" src="../../../_images/mecanum-drive-force-diagram.png" style="width: 25em;"/></a>
<p>In the image above, vectors 1, 2, 3, and 4 are the force vectors created by the <a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/holonomic.html#term-Mecanum-Wheel"><span class="xref std std-term">mecanum wheels</span></a> when the chassis is instructed to drive towards the top of the image. All motors are driving forward. The blue and red lines are their X and Y components, respectively. Here are a few examples of how the wheels must be driven to achieve different movements:</p>
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-directions.png"><img alt="Examples of ways to move the wheels on mecanum drive to move the robot in different directions" class="align-center" src="../../../_images/mecanum-drive-directions.png" style="width: 45em;"/></a>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>It is strongly advised to not hardcode these movements in; there is a much better way described below that allows for true holonomic movement and is much more elegant.</p>
</div>
</section>
<section id="deriving-mecanum-control-equations">
<h2>Deriving Mecanum Control Equations<a class="headerlink" href="#deriving-mecanum-control-equations" title="Permalink to this headline">#</a></h2>
<p>Before thinking about mecanum, envision a scenario where you have a 2 motor tank drivetrain which you want to control using the left stick Y axis for forward/backward movement, and the right stick X axis for pivot turning. The motors are configured so that positive is clockwise for the right motor when the body is facing away from you, and the left motor is the opposite. To control only forward/backward movement, you simply need to set the motor powers to the Y stick value (flip the sign since Y is reversed):</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="3abc1310-cf64-4f0f-82ef-1ea83bb019b5" name="111318c8-be22-4f8c-b319-60be332e092c" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="3abc1310-cf64-4f0f-82ef-1ea83bb019b5">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick is reversed!</span>

<span class="n">leftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
<span class="n">rightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input id="d57960aa-ca79-466e-b57c-b46707757a51" name="111318c8-be22-4f8c-b319-60be332e092c" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="d57960aa-ca79-466e-b57c-b46707757a51">
Blocks</label><div class="sd-tab-content docutils">
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-1.png"><img alt="../../../_images/mecanum-drive-blocks-sample-1.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-1.png" style="width: 45em;"/></a>
</div>
</div>
<p>Although at first adding rotation might seem like a difficult task, it’s actually super simple. All you need to do is subtract the right X stick value from the right wheels, and add it to the left:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="02e029eb-9887-416f-aa63-6b0801f48ea0" name="9cda4f69-cde7-451e-a7c4-fb235512140a" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="02e029eb-9887-416f-aa63-6b0801f48ea0">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick is reversed!</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">right_stick_x</span><span class="p">;</span>

<span class="n">leftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
<span class="n">rightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input id="a1eef1ee-13a6-4351-b543-3d6d8c95c9b8" name="9cda4f69-cde7-451e-a7c4-fb235512140a" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="a1eef1ee-13a6-4351-b543-3d6d8c95c9b8">
Blocks</label><div class="sd-tab-content docutils">
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-2.png"><img alt="../../../_images/mecanum-drive-blocks-sample-2.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-2.png" style="width: 45em;"/></a>
</div>
</div>
<p>Here, if the left stick is pressed upwards, both of the motors will be fed a positive value, causing the robot to move forward. If it is pressed downwards, both of the motors will be fed a negative value, causing the robot to move backwards. A similar principle applies for rotation: if the right stick is pushed rightward, the left wheels will spin forward while the right spin backward, causing rotation. The opposite applies for pushing the stick left. If both sticks are pushed at the same time, say the left Y stick is at 1 and the right X stick is also at 1, the value of the left wheels will be <span class="math notranslate nohighlight">\(1+1=2\)</span> (which gets clipped to 1 in the SDK) and the right wheels will be <span class="math notranslate nohighlight">\(1-1=0\)</span>, which causes a rightward curve.</p>
<p>Applying omnidirectional movement with <a class="hoverxref tooltip reference internal" href="../../common-mechanisms/drivetrains/holonomic.html#term-Mecanum-Wheel"><span class="xref std std-term">mecanum wheels</span></a> operates under the same principle as adding turning into the tank example. The left stick X values will be added or subtracted to each wheel depending on how that wheel needs to rotate to get the desired movement. The only difference from turning is that rather than wheels on the same side being the same sign, wheels diagonal to each other will be the same sign.</p>
<p>We want a positive left stick X value to correlate to rightward strafing. If we refer back to the vectoring image, this means that the front left and back right need to rotate forward, while the back left and front right need to rotate backwards. So, we should add the x value to the front left and back right and subtract it from the back right and front left:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="5514cabf-298c-4dda-b615-1ac72ccffb25" name="4f1a6377-4c99-4706-88b2-756c0a7dd623" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="5514cabf-298c-4dda-b615-1ac72ccffb25">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick is reversed!</span>
<span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_x</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">right_stick_x</span><span class="p">;</span>

<span class="n">frontLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
<span class="n">backLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
<span class="n">frontRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
<span class="n">backRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">);</span>
</pre></div>
</div>
</div>
<input id="2bdf1bda-ab6d-4acc-9cd5-624a16af46a4" name="4f1a6377-4c99-4706-88b2-756c0a7dd623" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="2bdf1bda-ab6d-4acc-9cd5-624a16af46a4">
Blocks</label><div class="sd-tab-content docutils">
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-3.png"><img alt="../../../_images/mecanum-drive-blocks-sample-3.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-3.png" style="width: 45em;"/></a>
</div>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Most FTC motors spin counterclockwise when viewed from their face when given positive power by default, with the exception of NeveRests. If your drivetrain uses an even number of gears, this will reverse the direction the motors spin in.</p>
<p>On most drivetrains, you will need to reverse the left side for positive power to move forwards with most motors, and reverse the right side with NeveRests. The presence of gearing between the motor gearbox and the wheel may swap this, which is the case for the goBILDA Strafer and the REV Mecanum Drivetrain Kit.</p>
</div>
<p>This is the same as the tank example, except now with 4 motors and the strafing component added. Similarly to the tank example, the Y component is added to all wheels, and the right X (rx) is added to the left wheels and subtracted from the right. Now, we have added a left X component (x) that allows us to strafe rightward. In doing that, however, we have actually allowed for strafing in any direction. If you think about it, pressing the left joystick to the left will do the same thing in reverse, which is what is needed to strafe left. If it is pressed at 45 degrees, the x and y components of the joystick will be equal. This will cause two diagonal motors to cancel, allowing for diagonal movement. This same effect applies to every angle of the joystick.</p>
<p>Now that we have a functioning mecanum driving program, there are a few things that can be done to clean it up. The first of these would be multiplying the left X value by something to counteract imperfect strafing. Doing this will make the drive feel more accurate on non axis aligned directions, and make field centric driving more accurate. In this tutorial, we will use 1.1, but it’s really up to driver preference.</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="3d614372-fc00-4b80-855e-c7df6bb8259e" name="67594264-2593-4145-8353-50eca5134140" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="3d614372-fc00-4b80-855e-c7df6bb8259e">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick is reversed!</span>
<span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Counteract imperfect strafing</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">right_stick_x</span><span class="p">;</span>
</pre></div>
</div>
</div>
<input id="79497c8c-00da-49b2-8640-36cdda176a35" name="67594264-2593-4145-8353-50eca5134140" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="79497c8c-00da-49b2-8640-36cdda176a35">
Blocks</label><div class="sd-tab-content docutils">
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-4.png"><img alt="../../../_images/mecanum-drive-blocks-sample-4.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-4.png" style="width: 45em;"/></a>
</div>
</div>
<p>The other improvement we can make is scale the values into the range of -1 to 1.</p>
<p>Since the SDK simply clips (limits) the powers to that range, we can lose the ratio we are looking for unless we proactively put all the numbers back in that range while still maintaining our calculated ratio. For example, if we calculate values of 0.4, 0.1, 1.1, and 1.4, they will be clipped to 0.4, 0.1, 1.0, and 1.0, which is not the same ratio. Instead, we need to divide all of them by the largest power’s absolute value when it exceeds 1:</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="f6c90e9e-0345-45b4-8a53-db0b141bd70c" name="c970a2fd-58d8-4bad-b8a3-5910977f1933" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="f6c90e9e-0345-45b4-8a53-db0b141bd70c">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Denominator is the largest motor power (absolute value) or 1</span>
<span class="c1">// This ensures all the powers maintain the same ratio, but only when</span>
<span class="c1">// at least one is out of the range [-1, 1]</span>
<span class="kt">double</span><span class="w"> </span><span class="n">denominator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rx</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="n">frontLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">backLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">frontRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">backRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
</pre></div>
</div>
</div>
<input id="824ddac7-ef15-403d-a3b5-06579751a609" name="c970a2fd-58d8-4bad-b8a3-5910977f1933" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="824ddac7-ef15-403d-a3b5-06579751a609">
Blocks</label><div class="sd-tab-content docutils">
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-5.png"><img alt="../../../_images/mecanum-drive-blocks-sample-5.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-5.png" style="width: 45em;"/></a>
</div>
</div>
<p>Make sure to set the powers on your motor and update this every loop in an opmode!</p>
</section>
<section id="robot-centric-final-sample-code">
<h2>Robot-Centric Final Sample Code<a class="headerlink" href="#robot-centric-final-sample-code" title="Permalink to this headline">#</a></h2>
<div class="sd-tab-set docutils">
<input checked="checked" id="e8249224-a033-4453-b2ee-e10992e03e32" name="c6dd6d97-3c4a-4000-90ff-b068856b9c4f" type="radio"/>
<label class="sd-tab-label" data-sync-id="java" for="e8249224-a033-4453-b2ee-e10992e03e32">
Java</label><div class="sd-tab-content docutils">
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">org.firstinspires.ftc.teamcode</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.LinearOpMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.TeleOp</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotorSimple</span><span class="p">;</span>

<span class="nd">@TeleOp</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MecanumTeleOp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">LinearOpMode</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">runOpMode</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Declare our motors</span>
<span class="w">        </span><span class="c1">// Make sure your ID's match your configuration</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">frontLeftMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"frontLeftMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">backLeftMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"backLeftMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">frontRightMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"frontRightMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">backRightMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"backRightMotor"</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Reverse the right side motors. This may be wrong for your setup.</span>
<span class="w">        </span><span class="c1">// If your robot moves backwards when commanded to go forwards,</span>
<span class="w">        </span><span class="c1">// reverse the left side instead.</span>
<span class="w">        </span><span class="c1">// See the note about this earlier on this page.</span>
<span class="w">        </span><span class="n">frontRightMotor</span><span class="p">.</span><span class="na">setDirection</span><span class="p">(</span><span class="n">DcMotorSimple</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">REVERSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">backRightMotor</span><span class="p">.</span><span class="na">setDirection</span><span class="p">(</span><span class="n">DcMotorSimple</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">REVERSE</span><span class="p">);</span>

<span class="w">        </span><span class="n">waitForStart</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isStopRequested</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">opModeIsActive</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick value is reversed</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Counteract imperfect strafing</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">right_stick_x</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// Denominator is the largest motor power (absolute value) or 1</span>
<span class="w">            </span><span class="c1">// This ensures all the powers maintain the same ratio,</span>
<span class="w">            </span><span class="c1">// but only if at least one is out of the range [-1, 1]</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">denominator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rx</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">frontLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">backLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">frontRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">backRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>

<span class="w">            </span><span class="n">frontLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">frontLeftPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">backLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">backLeftPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">frontRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">frontRightPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">backRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">backRightPower</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<input id="578ff27f-ca21-49bf-9e0f-6c0bb0f9176b" name="c6dd6d97-3c4a-4000-90ff-b068856b9c4f" type="radio"/>
<label class="sd-tab-label" data-sync-id="blocks" for="578ff27f-ca21-49bf-9e0f-6c0bb0f9176b">
Blocks</label><div class="sd-tab-content docutils">
<p><a class="reference download internal" download="" href="../../../_downloads/bdc298eb096f43fbcec38b3683df3a65/mecanum-drive-sample.blk"><code class="xref download docutils literal notranslate"><span class="pre">Blocks</span> <span class="pre">file</span> <span class="pre">download</span></code></a></p>
<a class="reference internal image-reference" href="../../../_images/mecanum-drive-blocks-sample-complete.png"><img alt="../../../_images/mecanum-drive-blocks-sample-complete.png" class="align-center" src="../../../_images/mecanum-drive-blocks-sample-complete.png" style="width: 45em;"/></a>
</div>
</div>
</section>
<section id="field-centric">
<h2>Field Centric<a class="headerlink" href="#field-centric" title="Permalink to this headline">#</a></h2>
<p>With field centric mecanum drive, the translation joystick controls the direction of the robot relative to the field, as opposed to the robot frame. This is preferred by some drivers, and make some evasive action easier, as one can spin while translating in a given direction easier. To do this, the x/y components of the joysticks are rotated counter to the robot’s angle, which is given by the IMU.</p>
<p>There is an IMU inside of Control Hubs (and older models of Expansion Hubs). Unlike most other hardware, it is recommended to do more than <code class="docutils literal notranslate"><span class="pre">hardwareMap.get()</span></code> to begin using it. Note, this is configured when creating a new configuration by default as <code class="docutils literal notranslate"><span class="pre">imu</span></code>. See the <a class="reference external" href="https://ftc-docs.firstinspires.org/programming_resources/imu/imu.html">FTC doc page covering the IMU interface and its parameters</a> for more information. The way the IMU will be initialized here is:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Retrieve the IMU from the hardware map</span>
<span class="n">imu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">IMU</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">"imu"</span><span class="p">);</span>
<span class="c1">// Adjust the orientation parameters to match your robot</span>
<span class="n">IMU</span><span class="p">.</span><span class="na">Parameters</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IMU</span><span class="p">.</span><span class="na">Parameters</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RevHubOrientationOnRobot</span><span class="p">(</span>
<span class="w">        </span><span class="n">RevHubOrientationOnRobot</span><span class="p">.</span><span class="na">LogoFacingDirection</span><span class="p">.</span><span class="na">UP</span><span class="p">,</span>
<span class="w">        </span><span class="n">RevHubOrientationOnRobot</span><span class="p">.</span><span class="na">UsbFacingDirection</span><span class="p">.</span><span class="na">FORWARD</span><span class="p">));</span>
<span class="c1">// Without this, the REV Hub's orientation is assumed to be logo up / USB forward</span>
<span class="n">imu</span><span class="p">.</span><span class="na">initialize</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>
</pre></div>
</div>
<p>The angle needs to be read every loop. In addition to this, while the IMU keeps a consistent zero position between OpModes (relevantly, including between autonomous and teleop), adding a bind to reset the angle is important to counteract drift and because the zero can change due to some types of disconnects.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">BNO055</span></code> objects will reset the IMU zero when <code class="docutils literal notranslate"><span class="pre">initialize</span></code> is called. The <code class="docutils literal notranslate"><span class="pre">BNO055</span></code> class is not recommended for new development. The <code class="docutils literal notranslate"><span class="pre">IMU</span></code> class does not have this behavior, and is the appropriate replacement as of SDK v8.1.</p>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// This button choice was made so that it is hard to hit on accident,</span>
<span class="c1">// it can be freely changed based on preference.</span>
<span class="c1">// The equivalent button is start on Xbox-style controllers.</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">imu</span><span class="p">.</span><span class="na">resetYaw</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">double</span><span class="w"> </span><span class="n">botHeading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="na">getRobotYawPitchRollAngles</span><span class="p">().</span><span class="na">getYaw</span><span class="p">(</span><span class="n">AngleUnit</span><span class="p">.</span><span class="na">RADIANS</span><span class="p">);</span>
</pre></div>
</div>
<p>Then, the translation joystick values need to be counterrotated by the robot heading. The IMU returns heading, however we need to rotate the movement counter to the robot’s rotation, so its negative is taken. The joystick values are a vector, and rotating a vector in 2D requires this formula (<a class="reference external" href="https://matthew-brett.github.io/teaching/rotation_2d.html">proved here</a>), where <span class="math notranslate nohighlight">\(x_1\)</span> and <span class="math notranslate nohighlight">\(y_1\)</span> are the components of the original vector, <span class="math notranslate nohighlight">\(\beta\)</span> is the angle to rotate by, and <span class="math notranslate nohighlight">\(x_2\)</span> and <span class="math notranslate nohighlight">\(y_2\)</span> are the components of the resultant vector.</p>
<div class="math-wrapper"><div class="math notranslate nohighlight">
\[\begin{split}x_2=x_1cos \beta - y_1sin \beta \\
y_2=x_1sin \beta + y_1cos \beta\end{split}\]</div></div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Rotate the movement direction counter to the bot's rotation</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="n">rotY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">);</span>
</pre></div>
</div>
<p>Then, these rotated values can be put into the mecanum kinematics shown earlier.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">double</span><span class="w"> </span><span class="n">denominator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rotY</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rotX</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rx</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="kt">double</span><span class="w"> </span><span class="n">frontLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">backLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">frontRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="kt">double</span><span class="w"> </span><span class="n">backRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
</pre></div>
</div>
<section id="field-centric-final-sample-code">
<h3>Field-Centric Final Sample Code<a class="headerlink" href="#field-centric-final-sample-code" title="Permalink to this headline">#</a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">package</span><span class="w"> </span><span class="nn">org.firstinspires.ftc.teamcode</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.LinearOpMode</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.IMU</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.eventloop.opmode.TeleOp</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotor</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.robotcore.hardware.DcMotorSimple</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">com.qualcomm.hardware.rev.RevHubOrientationOnRobot</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">org.firstinspires.ftc.robotcore.external.navigation.AngleUnit</span><span class="p">;</span>

<span class="nd">@TeleOp</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FieldCentricMecanumTeleOp</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">LinearOpMode</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">runOpMode</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">InterruptedException</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Declare our motors</span>
<span class="w">        </span><span class="c1">// Make sure your ID's match your configuration</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">frontLeftMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"frontLeftMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">backLeftMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"backLeftMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">frontRightMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"frontRightMotor"</span><span class="p">);</span>
<span class="w">        </span><span class="n">DcMotor</span><span class="w"> </span><span class="n">backRightMotor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">dcMotor</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="s">"backRightMotor"</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Reverse the right side motors. This may be wrong for your setup.</span>
<span class="w">        </span><span class="c1">// If your robot moves backwards when commanded to go forwards,</span>
<span class="w">        </span><span class="c1">// reverse the left side instead.</span>
<span class="w">        </span><span class="c1">// See the note about this earlier on this page.</span>
<span class="w">        </span><span class="n">frontRightMotor</span><span class="p">.</span><span class="na">setDirection</span><span class="p">(</span><span class="n">DcMotorSimple</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">REVERSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">backRightMotor</span><span class="p">.</span><span class="na">setDirection</span><span class="p">(</span><span class="n">DcMotorSimple</span><span class="p">.</span><span class="na">Direction</span><span class="p">.</span><span class="na">REVERSE</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Retrieve the IMU from the hardware map</span>
<span class="w">        </span><span class="n">IMU</span><span class="w"> </span><span class="n">imu</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hardwareMap</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">IMU</span><span class="p">.</span><span class="na">class</span><span class="p">,</span><span class="w"> </span><span class="s">"imu"</span><span class="p">);</span>
<span class="w">        </span><span class="c1">// Adjust the orientation parameters to match your robot</span>
<span class="w">        </span><span class="n">IMU</span><span class="p">.</span><span class="na">Parameters</span><span class="w"> </span><span class="n">parameters</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">IMU</span><span class="p">.</span><span class="na">Parameters</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">RevHubOrientationOnRobot</span><span class="p">(</span>
<span class="w">                </span><span class="n">RevHubOrientationOnRobot</span><span class="p">.</span><span class="na">LogoFacingDirection</span><span class="p">.</span><span class="na">UP</span><span class="p">,</span>
<span class="w">                </span><span class="n">RevHubOrientationOnRobot</span><span class="p">.</span><span class="na">UsbFacingDirection</span><span class="p">.</span><span class="na">FORWARD</span><span class="p">));</span>
<span class="w">        </span><span class="c1">// Without this, the REV Hub's orientation is assumed to be logo up / USB forward</span>
<span class="w">        </span><span class="n">imu</span><span class="p">.</span><span class="na">initialize</span><span class="p">(</span><span class="n">parameters</span><span class="p">);</span>

<span class="w">        </span><span class="n">waitForStart</span><span class="p">();</span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isStopRequested</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">opModeIsActive</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_y</span><span class="p">;</span><span class="w"> </span><span class="c1">// Remember, Y stick value is reversed</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">left_stick_x</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gamepad1</span><span class="p">.</span><span class="na">right_stick_x</span><span class="p">;</span>

<span class="w">            </span><span class="c1">// This button choice was made so that it is hard to hit on accident,</span>
<span class="w">            </span><span class="c1">// it can be freely changed based on preference.</span>
<span class="w">            </span><span class="c1">// The equivalent button is start on Xbox-style controllers.</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">gamepad1</span><span class="p">.</span><span class="na">options</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">imu</span><span class="p">.</span><span class="na">resetYaw</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>

<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">botHeading</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">imu</span><span class="p">.</span><span class="na">getRobotYawPitchRollAngles</span><span class="p">().</span><span class="na">getYaw</span><span class="p">(</span><span class="n">AngleUnit</span><span class="p">.</span><span class="na">RADIANS</span><span class="p">);</span>

<span class="w">            </span><span class="c1">// Rotate the movement direction counter to the bot's rotation</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">rotY</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">sin</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">cos</span><span class="p">(</span><span class="o">-</span><span class="n">botHeading</span><span class="p">);</span>

<span class="w">            </span><span class="n">rotX</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mf">1.1</span><span class="p">;</span><span class="w">  </span><span class="c1">// Counteract imperfect strafing</span>

<span class="w">            </span><span class="c1">// Denominator is the largest motor power (absolute value) or 1</span>
<span class="w">            </span><span class="c1">// This ensures all the powers maintain the same ratio,</span>
<span class="w">            </span><span class="c1">// but only if at least one is out of the range [-1, 1]</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">denominator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">max</span><span class="p">(</span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rotY</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rotX</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">abs</span><span class="p">(</span><span class="n">rx</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">frontLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">backLeftPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">frontRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">backRightPower</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">rotY</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rotX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rx</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">denominator</span><span class="p">;</span>

<span class="w">            </span><span class="n">frontLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">frontLeftPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">backLeftMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">backLeftPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">frontRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">frontRightPower</span><span class="p">);</span>
<span class="w">            </span><span class="n">backRightMotor</span><span class="p">.</span><span class="na">setPower</span><span class="p">(</span><span class="n">backRightPower</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="gamepad.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Gamepad Usage</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Tutorials</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Game Manual 0 Contributors |  Hosting Graciously Provided By //Copperforge
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Mecanum TeleOp</a><ul>
<li><a class="reference internal" href="#mecanum-physics">Mecanum Physics</a></li>
<li><a class="reference internal" href="#using-vectoring-to-create-omnidirectional-movement">Using Vectoring to Create Omnidirectional Movement</a></li>
<li><a class="reference internal" href="#deriving-mecanum-control-equations">Deriving Mecanum Control Equations</a></li>
<li><a class="reference internal" href="#robot-centric-final-sample-code">Robot-Centric Final Sample Code</a></li>
<li><a class="reference internal" href="#field-centric">Field Centric</a><ul>
<li><a class="reference internal" href="#field-centric-final-sample-code">Field-Centric Final Sample Code</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/scripts/furo.js"></script>
    <script src="../../../_static/js/hoverxref.js"></script>
    <script src="../../../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../../../_static/js/micromodal.min.js"></script>
    <script src="../../../_static/design-tabs.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>